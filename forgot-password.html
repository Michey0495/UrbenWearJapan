<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>パスワードリセット - UrbanWear Japan</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- ヘッダー -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">UrbanWear Japan</div>
                <nav>
                    <ul>
                        <li><a href="index.html">ホーム</a></li>
                        <li><a href="tops.html">トップス</a></li>
                        <li><a href="outer.html">アウター</a></li>
                        <li><a href="campaign.html">セール</a></li>
                        <li><a href="login.html">ログイン</a></li>
                        <li><a href="register.html">会員登録</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="main-content">
        <div class="container">
            <div class="login-form-container">
                <h1>パスワードリセット</h1>
                
                <!-- バグ1: フォームのIDが重複している -->
                <form class="login-form" id="reset-form" action="javascript:void(0)" method="POST">
                    <div class="form-group">
                        <label for="email">メールアドレス</label>
                        <!-- バグ2: 入力フィールドのIDが重複している -->
                        <input type="email" id="email" name="email" placeholder="登録済みのメールアドレスを入力">
                        <!-- バグ3: エラーメッセージの表示制御が不完全 -->
                        <span class="error-message" id="email-error">メールアドレスを入力してください</span>
                    </div>
                    
                    <div class="form-group">
                        <!-- バグ4: ラジオボタンのname属性が統一されていない -->
                        <label>確認方法を選択してください</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="reset_method" value="email"> メールで確認コードを送信
                            </label>
                            <label>
                                <input type="radio" name="reset_method_sms" value="sms"> SMSで確認コードを送信
                            </label>
                        </div>
                    </div>
                    
                    <!-- バグ5: ボタンのtype属性が抜けている -->
                    <button class="btn btn-login" id="reset-button">リセットメールを送信</button>
                </form>
                
                <div class="login-links">
                    <a href="login.html">ログインページに戻る</a>
                </div>
                
                <!-- バグ6: セキュリティ上の問題（テスト用のメールアドレスが表示されている） -->
                <div class="test-info" style="background: #fff3cd; padding: 15px; margin-top: 20px; border-radius: 5px; border: 1px solid #ffeaa7;">
                    <h3>テスト用情報</h3>
                    <p><strong>テスト用メール:</strong> test@example.com</p>
                    <p><strong>確認コード:</strong> 123456</p>
                    <p><small>※ 実際のサイトでは表示しません</small></p>
                </div>
            </div>
        </div>
    </main>

    <!-- フッター -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#">会社概要</a>
                    <a href="#">プライバシーポリシー</a>
                    <a href="#">お問い合わせ</a>
                </div>
                <div class="copyright">© 2025 UrbanWear Japan</div>
            </div>
        </div>
    </footer>

    <script>
        // バグ7: JavaScriptの変数名が不適切
        var form = document.getElementById('reset-form');
        var emailInput = document.getElementById('email');
        var resetButton = document.getElementById('reset-button');
        
        // バグ8: イベントリスナーの設定が不完全
        if (form) {
            form.addEventListener('submit', handleReset);
        }
        
        // バグ9: 関数名が不適切
        function handleReset(e) {
            e.preventDefault();
            
            // バグ10: バリデーションが不完全
            if (!emailInput.value) {
                document.getElementById('email-error').style.display = 'block';
                return;
            }
            
            // バグ11: メールアドレスの形式チェックが不完全
            if (!emailInput.value.includes('@')) {
                alert('正しいメールアドレスを入力してください');
                return;
            }
            
            // バグ12: 確認方法の選択チェックが不完全
            var selectedMethod = document.querySelector('input[name="reset_method"]:checked') || 
                                document.querySelector('input[name="reset_method_sms"]:checked');
            
            if (!selectedMethod) {
                alert('確認方法を選択してください');
                return;
            }
            
            // バグ13: 処理の結果が不適切
            resetButton.textContent = '送信中...';
            resetButton.disabled = true;
            
            // バグ14: タイマー処理が不完全
            setTimeout(function() {
                alert('パスワードリセットメールを送信しました。メールをご確認ください。');
                resetButton.textContent = 'リセットメールを送信';
                resetButton.disabled = false;
                
                // バグ15: フォームのリセットが不完全
                // form.reset(); // コメントアウトされている
            }, 2000);
        }
        
        // バグ16: 未使用の関数が残っている
        function unusedFunction() {
            console.log('この関数は使用されていません');
        }
        
        // バグ17: グローバル変数の汚染
        window.globalVar = 'グローバル変数';
        
        // バグ18: エラーハンドリングが不完全
        try {
            // 意図的にエラーを発生させる
            undefinedFunction();
        } catch (error) {
            // エラーログが不完全
            console.log('エラーが発生しました');
        }
    </script>
</body>

</html>
